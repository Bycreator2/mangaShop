import{o as l,c as r,a as t,b as u,u as _,R as v,w as b,t as n,F as h,r as g,d as m,e as c,f as $,g as k,h as z}from"./vendor.69d2f15b.js";const w=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const d of i)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function s(i){const d={};return i.integrity&&(d.integrity=i.integrity),i.referrerpolicy&&(d.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?d.credentials="include":i.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(i){if(i.ep)return;i.ep=!0;const d=s(i);fetch(i.href,d)}};w();var C="/assets/logoo.ba5d6357.png";const R={class:"navbar sticky-top navbar-dark bg-dark"},N={class:"container-fluid"},x=t("h5",{style:{"font-weight":"bold"}},[t("img",{src:C,alt:"",width:"60",height:"48",class:"d-inline-block align-text-center logo"}),c(" MangaShop ")],-1),O=c(" \xA0 "),S=c("\u{1F6D2} "),I={class:"badge badge-secondary",style:{color:"black"}},P={class:"container"},j={class:"offcanvas offcanvas-end",tabindex:"-1",id:"Carrello","aria-labelledby":"offcanvasRightLabel"},J={class:"offcanvas-header"},L={id:"offcanvasRightLabel"},T=c("Carrello "),B={class:"badge badge-dark"},E=t("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1),q={class:"offcanvas-body"},V={style:{"background-color":"#808080","border-radius":"10px",height:"90px"}},A={style:{width:"100%",padding:"10px",display:"inline-flex","align-items":"center"}},F={style:{"padding-right":"10px"}},H=["src"],M={style:{display:"inline-flex","text-align":"left",position:"relative",overflow:"hidden",padding:"10px"}},D={class:"cropText",style:{width:"fit-content","margin-right":"50px"}},K=t("br",null,null,-1),W={class:"cropText",style:{width:"fit-content","margin-right":"50px"}},G=["id"],Q={action:"/create-checkout-session",method:"POST"},U={type:"submit",id:"checkout-button",class:"btn btn-warning"},X={class:"offcanvas offcanvas-end",tabindex:"-1",id:"Profilo","aria-labelledby":"offcanvasRightLabel"},Y={class:"offcanvas-header"},Z={id:"offcanvasRightLabel"},tt=c("Profilo "),et={class:"badge badge-dark"},ot=t("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1),st=t("div",{class:"offcanvas-body"},null,-1),it={data(){return{productIndex:null,datiRicevuti:null,carrello:0,totPrezzo:0}},async created(){const e=await(await fetch("https://my.api.mockaroo.com/data.json?key=d60dbd50")).json();this.datiRicevuti=e,this.productIndex=window.location.href.split("?")[1].split(" ")[0],$cookies.get("Carello")!=null&&(this.carrello=JSON.parse($cookies.get("Carello")))},methods:{addCarello(a){const e=this.productIndex;if($cookies.get("Carello")==null)$cookies.set("Carello",JSON.stringify([{id:e}]),"10y");else{let s=JSON.parse($cookies.get("Carello"));s.push({id:e}),$cookies.set("Carello",JSON.stringify(s),"10y"),console.log(JSON.parse($cookies.get("Carello")))}},updateCarello(a){if($cookies.get("Carello")!=[]){this.carrello=JSON.parse($cookies.get("Carello"));let e=0;for(let s in this.carrello)console.log("pod carrello: "+this.carrello[s].id+" prezzo: "+this.datiRicevuti[s].prezzo),e=e+this.datiRicevuti[s].prezzo,console.log(e),this.totPrezzo=e}else this.totPrezzo=0,console.log("vuoto")},removeItem(a){if(a&&(console.log(this.carrello.find(({id:e})=>e===a.target.id)),this.carrello.splice(this.carrello.indexOf(this.carrello.find(({id:e})=>e===a.target.id)),1),$cookies.set("Carello",JSON.stringify(this.carrello),"10y")),$cookies.get("Carello")!=[]){this.carrello=JSON.parse($cookies.get("Carello"));let e=0;for(let s in this.carrello)console.log("pod carrello: "+this.carrello[s].id+" prezzo: "+this.datiRicevuti[s].prezzo),e=e+this.datiRicevuti[s].prezzo,console.log(e),this.totPrezzo=e}else this.totPrezzo=0,console.log("vuoto")}}},at=Object.assign(it,{setup(a){return(e,s)=>(l(),r(h,null,[t("nav",R,[t("div",N,[u(_(v),{class:"navbar-brand logowtext",to:"/",style:{display:"flex"}},{default:b(()=>[x]),_:1}),t("div",null,[t("button",{class:"btn btn-light",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#Profilo","aria-controls":"offcanvasRight",onClick:s[0]||(s[0]=(...o)=>e.updateCarello&&e.updateCarello(...o))},"\u{1F464}"),O,t("button",{class:"btn btn-light",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#Carrello","aria-controls":"offcanvasRight",onClick:s[1]||(s[1]=(...o)=>e.updateCarello&&e.updateCarello(...o))},[S,t("span",I,n(e.carrello.length),1)])])])]),t("div",P,[t("div",j,[t("div",J,[t("h5",L,[T,t("span",B,n(e.carrello.length),1)]),E]),t("div",q,[(l(!0),r(h,null,g(e.carrello,o=>(l(),r("div",{key:o.id,style:{"padding-bottom":"1rem"}},[t("div",V,[t("div",A,[t("div",F,[t("img",{style:{height:"70px!important","object-fit":"cover","border-radius":"5px"},src:e.datiRicevuti[o.id].foto},null,8,H)]),t("div",M,[t("h5",D,[c(n(e.datiRicevuti[o.id].Nome)+" ",1),K,t("h6",W,"\u20AC"+n(e.datiRicevuti[o.id].prezzo),1)]),t("button",{onClick:s[2]||(s[2]=(...i)=>e.removeItem&&e.removeItem(...i)),id:o.id,class:"btn btn-primary",style:{position:"absolute",right:"0"}},"-",8,G)])])])]))),128)),t("form",Q,[t("button",U,"Checkout \u20AC"+n(e.totPrezzo),1)])])]),t("div",X,[t("div",Y,[t("h5",Z,[tt,t("span",et,n(e.carrello.length),1)]),ot]),st]),u(_(m))])],64))}}),lt={class:"card",style:{height:"25rem","background-color":"rgba(33,37,41)",overflow:"hidden","border-radius":"10px!important"}},rt=["src"],nt={class:"card-body",style:{"justify-content":"center","align-content":"center","background-color":"transparent!important","z-index":"1"}},dt={style:{position:"absolute",bottom:"0",display:"inline-grid",padding:"10px",left:"0",right:"0",color:"white"}},ct={class:"card-title cropText"},ut={class:"card-text",style:{"font-weight":"bold"}},ht=c("Altre info"),pt={props:{foto:{required:!0,type:String},Nome:{required:!0,type:String},prezzo:{required:!0,type:Number},id:{required:!0,type:Number}}},f=Object.assign(pt,{setup(a){return(e,s)=>(l(),r("div",lt,[t("img",{src:a.foto,class:"card-img-top",alt:"...",style:{height:"100%!important","object-fit":"cover",position:"absolute","z-index":"0",opacity:"0.5"}},null,8,rt),t("div",nt,[t("div",dt,[t("h5",ct,n(a.Nome),1),t("p",ut,"\u20AC"+n(a.prezzo),1),u(_(v),{to:"/products?"+a.id,class:"btn btn-dark card-text"},{default:b(()=>[ht]),_:1},8,["to"])])])]))}});const _t={class:"container"},gt=t("br",null,null,-1),ft=t("h1",null,"Benvenuto Emanuele!",-1),vt={key:0},bt={class:"product"},yt=t("h4",{style:{"text-align":"start"}},"nuovi arrivi\u{1F4E3}",-1),mt={class:"row row-cols-2 row-cols-md-2 row-cols-xl-4 g-2"},$t={class:"product"},kt=t("h4",{style:{"text-align":"start"}},"occasioni\u{1F4B0}",-1),zt={class:"row row-cols-2 row-cols-md-4 g-2"},wt={key:1,style:{"padding-top":"50%"}},Ct=t("h1",{style:{"font-size":"medium"}},"\u{1F6A7}Stiamo caricando la home\u{1F6A7}",-1),Rt=t("div",{class:"progress",style:{width:"100%!important"}},[t("div",{class:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar",style:{width:"100%"}})],-1),Nt=[Ct,Rt],xt={name:"get-request-async-await",data(){return{datiRicevuti:null}},async created(){const e=await(await fetch("https://my.api.mockaroo.com/data.json?key=d60dbd50")).json();this.datiRicevuti=e},components:{ProductCard:f}},Ot=Object.assign(xt,{setup(a){return(e,s)=>(l(),r("div",_t,[gt,ft,e.datiRicevuti!=null?(l(),r("div",vt,[t("div",bt,[yt,t("div",mt,[(l(!0),r(h,null,g(e.datiRicevuti.slice(0,4),o=>(l(),r("div",{key:o.id,class:"col",style:{"padding-bottom":"1rem"}},[u(f,{foto:o.foto,Nome:o.Nome,prezzo:o.prezzo,id:o.id},null,8,["foto","Nome","prezzo","id"])]))),128))])]),t("div",$t,[kt,t("div",zt,[(l(!0),r(h,null,g(e.datiRicevuti.slice(0,4),o=>(l(),r("div",{key:o.id,class:"col",style:{"padding-bottom":"1rem"}},[u(f,{foto:o.foto,Nome:o.Nome,prezzo:o.prezzo,id:o.id},null,8,["foto","Nome","prezzo","id"])]))),128))])])])):(l(),r("div",wt,Nt))]))}}),St={key:0,class:"container",style:{"margin-top":"10vh"}},It={class:"row row-cols-1 row-cols-xl-2 g-2"},Pt={class:"col"},jt=["src"],Jt={class:"col",style:{"text-align":"left"}},Lt=t("br",null,null,-1),Tt={style:{color:"white"}},Bt=t("br",null,null,-1),Et={style:{color:"white","font-weight":"bold"}},qt=t("br",null,null,-1),Vt={style:{"font-weight":"500",color:"white"}},At={key:1,style:{"padding-top":"50%"}},Ft=t("h1",{style:{"font-size":"medium"}},"\u{1F6A7}Stiamo caricando il prodotto\u{1F6A7}",-1),Ht=t("div",{class:"progress",style:{width:"100%!important"}},[t("div",{class:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar",style:{width:"100%"}})],-1),Mt=[Ft,Ht],Dt=t("div",{class:"position-fixed bottom-0 end-0 p-3",style:{"z-index":"11"}},[t("div",{id:"liveToast",class:"toast fade hide",role:"alert","aria-live":"assertive","aria-atomic":"true"},[t("div",{class:"toast-body"},"Prodotto aggiunto al carrello")])],-1),Kt={data(){return{productIndex:null,datiRicevuti:null,carrello:JSON.parse($cookies.get("Carello"))}},async created(){const e=await(await fetch("https://my.api.mockaroo.com/data.json?key=d60dbd50")).json();this.datiRicevuti=e,this.productIndex=window.location.href.split("?")[1].split(" ")[0]},methods:{addCarello(a){const e=this.productIndex;if($cookies.get("Carello")==null)$cookies.set("Carello",JSON.stringify([{id:e}]),"10y");else{let i=JSON.parse($cookies.get("Carello"));i.push({id:e}),$cookies.set("Carello",JSON.stringify(i),"10y"),console.log(JSON.parse($cookies.get("Carello")))}const s=document.getElementById("liveToastBtn"),o=document.getElementById("liveToast");s.addEventListener("click",function(){var i=new bootstrap.Toast(o);i.show()})}}},Wt=Object.assign(Kt,{setup(a){return(e,s)=>(l(),r(h,null,[e.datiRicevuti!=null?(l(),r("div",St,[t("div",It,[t("div",Pt,[t("img",{src:e.datiRicevuti[e.productIndex].foto,style:{width:"40vh"}},null,8,jt)]),t("div",Jt,[t("h1",null,n(e.datiRicevuti[e.productIndex].Nome),1),Lt,t("h5",Tt,"Valutazione: "+n(e.datiRicevuti[e.productIndex].valutazione)+"/5",1),Bt,t("h4",Et,"\u20AC"+n(e.datiRicevuti[e.productIndex].prezzo),1),qt,t("p",Vt,n(e.datiRicevuti[e.productIndex].descrizione),1),t("button",{type:"button",class:"btn btn-warning",onClick:s[0]||(s[0]=(...o)=>e.addCarello&&e.addCarello(...o)),id:"liveToastBtn"},"Aggiungi al carello")])])])):(l(),r("div",At,Mt)),Dt],64))}}),Gt=$({history:k("/"),routes:[{path:"/",name:"home",component:Ot},{path:"/products",name:"products",component:Wt}]}),y=z(at);y.use(Gt);y.mount("#app");
